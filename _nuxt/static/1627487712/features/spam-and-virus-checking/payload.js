__NUXT_JSONP__("/features/spam-and-virus-checking", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M){return {data:[{document:{slug:"spam-and-virus-checking",description:"",title:"Spam & Virus Checking",position:i,category:"Features",toc:[{id:A,depth:2,text:B},{id:C,depth:i,text:D},{id:E,depth:i,text:F},{id:G,depth:i,text:H}],body:{type:"root",children:[{type:b,tag:g,props:{},children:[{type:a,value:"Postal can integrate with SpamAssassin and ClamAV to automatically scan incoming & outgoing messages that pass through mail servers."}]},{type:a,value:c},{type:b,tag:"alert",props:{type:"warning"},children:[{type:a,value:"\nBy default, this functionality is disabled.\n"}]},{type:a,value:c},{type:b,tag:"h2",props:{id:A},children:[{type:b,tag:j,props:{ariaHidden:h,href:"#setting-up-spamassassin",tabIndex:k},children:[{type:b,tag:d,props:{className:[l,m]},children:[]}]},{type:a,value:B}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"By default, Postal will talk to SpamAssassin's "},{type:b,tag:e,props:{},children:[{type:a,value:v}]},{type:a,value:" using an TCP socket connection (port 783). You'll need to install SpamAssassin on your server and then enable it within Postal."}]},{type:a,value:c},{type:b,tag:w,props:{id:C},children:[{type:b,tag:j,props:{ariaHidden:h,href:"#installing-spamassassin",tabIndex:k},children:[{type:b,tag:d,props:{className:[l,m]},children:[]}]},{type:a,value:D}]},{type:a,value:c},{type:b,tag:n,props:{className:[o]},children:[{type:b,tag:p,props:{className:[q,x]},children:[{type:b,tag:e,props:{},children:[{type:a,value:"sudo apt install spamassassin\n"}]}]}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"Once you have installed this, you will need to open up "},{type:b,tag:e,props:{},children:[{type:a,value:"\u002Fetc\u002Fdefault\u002Fspamassassin"}]},{type:a,value:" and change "},{type:b,tag:e,props:{},children:[{type:a,value:"ENABLED"}]},{type:a,value:I},{type:b,tag:e,props:{},children:[{type:a,value:J}]},{type:a,value:" and  "},{type:b,tag:e,props:{},children:[{type:a,value:"CRON"}]},{type:a,value:I},{type:b,tag:e,props:{},children:[{type:a,value:J}]},{type:a,value:". Then you should restart SpamAssassin."}]},{type:a,value:c},{type:b,tag:n,props:{className:[o]},children:[{type:b,tag:p,props:{className:[q,x]},children:[{type:b,tag:e,props:{},children:[{type:a,value:"sudo systemctl restart spamassassin\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:E},children:[{type:b,tag:j,props:{ariaHidden:h,href:"#enabling-in-postal",tabIndex:k},children:[{type:b,tag:d,props:{className:[l,m]},children:[]}]},{type:a,value:F}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"To enable spam checking, you'll need to add the following to your "},{type:b,tag:e,props:{},children:[{type:a,value:"postal.yml"}]},{type:a,value:" configuration file and restart. If you have installed SpamAssassin on a different host to your Postal installation you can change the host here but be sure to ensure that the "},{type:b,tag:e,props:{},children:[{type:a,value:v}]},{type:a,value:" is listening on your external interfaces."}]},{type:a,value:c},{type:b,tag:n,props:{className:[o]},children:[{type:b,tag:p,props:{className:[q,"language-yaml"]},children:[{type:b,tag:e,props:{},children:[{type:b,tag:d,props:{className:[f,r,s]},children:[{type:a,value:v}]},{type:b,tag:d,props:{className:[f,t]},children:[{type:a,value:u}]},{type:a,value:K},{type:b,tag:d,props:{className:[f,r,s]},children:[{type:a,value:"enabled"}]},{type:b,tag:d,props:{className:[f,t]},children:[{type:a,value:u}]},{type:a,value:L},{type:b,tag:d,props:{className:[f,"boolean","important"]},children:[{type:a,value:h}]},{type:a,value:K},{type:b,tag:d,props:{className:[f,r,s]},children:[{type:a,value:"host"}]},{type:b,tag:d,props:{className:[f,t]},children:[{type:a,value:u}]},{type:a,value:" 127.0.0.1\n  "},{type:b,tag:d,props:{className:[f,r,s]},children:[{type:a,value:"port"}]},{type:b,tag:d,props:{className:[f,t]},children:[{type:a,value:u}]},{type:a,value:L},{type:b,tag:d,props:{className:[f,"number"]},children:[{type:a,value:"783"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:n,props:{className:[o]},children:[{type:b,tag:p,props:{className:[q,x]},children:[{type:b,tag:e,props:{},children:[{type:a,value:"postal restart\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:G},children:[{type:b,tag:j,props:{ariaHidden:h,href:"#classifying-spam",tabIndex:k},children:[{type:b,tag:d,props:{className:[l,m]},children:[]}]},{type:a,value:H}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"The spam system is based on a numeric scoring system and different scores are assigned to different issues which may appear in a message. You can configure different thresholds which define at which point a message is treated as spam. We recommend starting at about 5 and updating this once you've seen how your incoming messages are classified."}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"You have 3 options which can be configured on a per route basis which defines how spam messages are treated:"}]},{type:a,value:c},{type:b,tag:"ul",props:{},children:[{type:a,value:c},{type:b,tag:y,props:{},children:[{type:b,tag:z,props:{},children:[{type:a,value:"Mark"}]},{type:a,value:" - messages will be sent through to your endpoint but there spam information will be made available to you."}]},{type:a,value:c},{type:b,tag:y,props:{},children:[{type:b,tag:z,props:{},children:[{type:a,value:"Quarantine"}]},{type:a,value:" - the message will placed into your hold queue and you'll need to release them if you wish them to be passed to your application. They will only remain here for 7 days,"}]},{type:a,value:c},{type:b,tag:y,props:{},children:[{type:b,tag:z,props:{},children:[{type:a,value:"Fail"}]},{type:a,value:" - the message will be marked as failed and will simply disappear into your message history without any fuss."}]},{type:a,value:c}]}]},dir:"\u002Fen\u002Ffeatures",path:"\u002Fen\u002Ffeatures\u002Fspam-and-virus-checking",extension:".md",createdAt:M,updatedAt:M,to:"\u002Ffeatures\u002Fspam-and-virus-checking"},prev:{slug:"starting-on-boot",title:"Starting on boot",to:"\u002Finstallation\u002Fstarting-on-boot"},next:{slug:"click-and-open-tracking",title:"Click & Open Tracking",to:"\u002Ffeatures\u002Fclick-and-open-tracking"}}],fetch:{},mutations:[]}}("text","element","\n","span","code","token","p","true",3,"a",-1,"icon","icon-link","div","nuxt-content-highlight","pre","line-numbers","key","atrule","punctuation",":","spamd","h3","language-text","li","strong","setting-up-spamassassin","Setting up SpamAssassin","installing-spamassassin","Installing SpamAssassin","enabling-in-postal","Enabling in Postal","classifying-spam","Classifying Spam"," to ","1","\n  "," ","2021-07-28T15:54:28.555Z")));