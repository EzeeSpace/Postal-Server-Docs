__NUXT_JSONP__("/installation/upgrading", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K){return {data:[{document:{slug:"upgrading",description:"",title:"Upgrading",position:2.2,category:x,toc:[{id:y,depth:k,text:z},{id:A,depth:k,text:B},{id:C,depth:k,text:D}],body:{type:"root",children:[{type:b,tag:h,props:{},children:[{type:a,value:"Once you have installed Postal, you can upgrade it by simply pulling the latest copy of the repository."}]},{type:a,value:e},{type:b,tag:l,props:{id:y},children:[{type:b,tag:m,props:{ariaHidden:n,href:"#automatic-upgrade",tabIndex:o},children:[{type:b,tag:c,props:{className:[p,q]},children:[]}]},{type:a,value:z}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"You can use the automatic upgrade script to attempt to upgrade your installation automatically. This will obtain a new copy of the application and then restart Postal."}]},{type:a,value:e},{type:b,tag:r,props:{className:[s]},children:[{type:b,tag:t,props:{className:[u,v]},children:[{type:b,tag:w,props:{},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"# Upgrade using the stable channel"}]},{type:a,value:"\npostal auto-upgrade\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"# Upgrade using the beta channel"}]},{type:a,value:"\npostal auto-upgrade --channel beta\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"# Upgrade using the stable channel but stop postal before the upgrade"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"# and start it again afterwards rather than simply restarting."}]},{type:a,value:"\npostal auto-upgrade --safe\n"}]}]}]},{type:a,value:e},{type:b,tag:l,props:{id:A},children:[{type:b,tag:m,props:{ariaHidden:n,href:"#manual-upgrade-from-packages",tabIndex:o},children:[{type:b,tag:c,props:{className:[p,q]},children:[]}]},{type:a,value:B}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"If you have installed Postal from a package (default behaviour), you can upgrade like this:"}]},{type:a,value:e},{type:b,tag:r,props:{className:[s]},children:[{type:b,tag:t,props:{className:[u,v]},children:[{type:b,tag:w,props:{},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"# Backup the old application"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"rm"}]},{type:a,value:" -Rf \u002Fopt\u002Fpostal\u002Fapp.backup\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"cp"}]},{type:a,value:" -R \u002Fopt\u002Fpostal\u002Fapp \u002Fopt\u002Fpostal\u002Fapp.backup\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"# Get the new application package and extract "}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"wget"}]},{type:a,value:" https:\u002F\u002Fpostal.atech.media\u002Fpackages\u002Fstable\u002Flatest.tgz -O - "},{type:b,tag:c,props:{className:[d,"operator"]},children:[{type:a,value:"|"}]},{type:a,value:" "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"tar"}]},{type:a,value:" zxpv -C \u002Fopt\u002Fpostal\u002Fapp\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:G}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:I}]},{type:a,value:J}]}]}]},{type:a,value:e},{type:b,tag:l,props:{id:C},children:[{type:b,tag:m,props:{ariaHidden:n,href:"#manual-upgrade-from-repository",tabIndex:o},children:[{type:b,tag:c,props:{className:[p,q]},children:[]}]},{type:a,value:D}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"If you have installed Postal from a repository, you can upgrade it with this. With a manual upgrade you can achieve a zero downtime upgrade."}]},{type:a,value:e},{type:b,tag:r,props:{className:[s]},children:[{type:b,tag:t,props:{className:[u,v]},children:[{type:b,tag:w,props:{},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"# Update to the latest version of the repository"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,"builtin","class-name"]},children:[{type:a,value:"cd"}]},{type:a,value:" \u002Fopt\u002Fpostal\u002Fapp\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:i}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"git"}]},{type:a,value:" pull\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:G}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:I}]},{type:a,value:J}]}]}]}]},dir:"\u002Fen\u002Finstallation",path:"\u002Fen\u002Finstallation\u002Fupgrading",extension:".md",createdAt:K,updatedAt:K,to:"\u002Finstallation\u002Fupgrading"},prev:{slug:"installation",title:x,to:"\u002Finstallation\u002Finstallation"},next:{slug:"dns-configuration",title:"Domain & DNS Configuration",to:"\u002Finstallation\u002Fdns-configuration"}}],fetch:{},mutations:[]}}("text","element","span","token","\n","comment","function","p","sudo"," -u postal ",2,"h2","a","true",-1,"icon","icon-link","div","nuxt-content-highlight","pre","language-bash","line-numbers","code","Installation","automatic-upgrade","Automatic upgrade","manual-upgrade-from-packages","Manual upgrade from packages","manual-upgrade-from-repository","Manual upgrade from repository","# Install new dependencies","\npostal bundle \u002Fopt\u002Fpostal\u002Fvendor\u002Fbundle\n","# Upgrade database","\npostal upgrade\n","# Restart postal","\npostal restart\n","2021-07-28T17:53:41.023Z")));