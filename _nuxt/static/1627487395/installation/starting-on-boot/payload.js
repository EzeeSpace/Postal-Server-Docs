__NUXT_JSONP__("/installation/starting-on-boot", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){return {data:[{document:{slug:"starting-on-boot",description:"",title:"Starting on boot",position:2.6,category:"Installation",toc:[{id:j,depth:k,text:h},{id:f,depth:k,text:f}],body:{type:"root",children:[{type:b,tag:l,props:{id:j},children:[{type:b,tag:m,props:{ariaHidden:n,href:"#etcrclocal",tabIndex:o},children:[{type:b,tag:i,props:{className:[p,q]},children:[]}]},{type:a,value:h}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The most simple way to get Postal to start on boot is to add the following to your "},{type:b,tag:d,props:{},children:[{type:a,value:h}]},{type:a,value:" file. Make sure you insert it before any "},{type:b,tag:d,props:{},children:[{type:a,value:"exit"}]},{type:a,value:" lines."}]},{type:a,value:c},{type:b,tag:r,props:{className:[s]},children:[{type:b,tag:t,props:{className:[u,"language-bash"]},children:[{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{className:["token","function"]},children:[{type:a,value:"sudo"}]},{type:a,value:" -u postal postal start\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"This will start Postal on boot and you can continue to use the "},{type:b,tag:d,props:{},children:[{type:a,value:"start\u002Fstop\u002Frestart"}]},{type:a,value:" commands provided by the "},{type:b,tag:d,props:{},children:[{type:a,value:"postal"}]},{type:a,value:" command."}]},{type:a,value:c},{type:b,tag:l,props:{id:f},children:[{type:b,tag:m,props:{ariaHidden:n,href:"#systemd",tabIndex:o},children:[{type:b,tag:i,props:{className:[p,q]},children:[]}]},{type:a,value:f}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"If you'd like to configure Postal to be monitored using systemd, you can use this example file. You may need to make adjustments depending on the names of your other services but if you have followed our installation guides this will work."}]},{type:a,value:c},{type:b,tag:r,props:{className:[s]},children:[{type:b,tag:t,props:{className:[u,"language-text"]},children:[{type:b,tag:d,props:{},children:[{type:a,value:"[Unit]\nDescription=Postal Mail Platform\nAfter=mysqld.service rabbitmq-server.service\nWants=mysqld.service rabbitmq-server.service\n\n[Service]\nExecStart=\u002Fusr\u002Fbin\u002Fpostal start\nExecStop=\u002Fusr\u002Fbin\u002Fpostal stop\nExecReload=\u002Fusr\u002Fbin\u002Fpostal restart\nUser=postal\nRestart=on-failure\nType=forking\n\n[Install]\nWantedBy=mysqld.service rabbitmq-server.service\n"}]}]}]},{type:a,value:c},{type:b,tag:"ol",props:{},children:[{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"Start by stopping your existing Postal installation using "},{type:b,tag:d,props:{},children:[{type:a,value:"postal stop"}]},{type:a,value:"."}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"Copy the above file into "},{type:b,tag:d,props:{},children:[{type:a,value:"\u002Fetc\u002Fsystemd\u002Fsystem\u002Fpostal.service"}]}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"Enable it with "},{type:b,tag:d,props:{},children:[{type:a,value:"systemctl enable postal"}]}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"Start it with "},{type:b,tag:d,props:{},children:[{type:a,value:"systemctl start postal"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Once you have started systemd, you should no longer manage the Postal process using the built-in "},{type:b,tag:d,props:{},children:[{type:a,value:"start\u002Fstop"}]},{type:a,value:" commands. You should always start and stop through systemd otherwise it will get confused and unhappy."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"You can continue to use "},{type:b,tag:d,props:{},children:[{type:a,value:"postal restart"}]},{type:a,value:" when needed however "},{type:b,tag:d,props:{},children:[{type:a,value:"auto-upgrade"}]},{type:a,value:" should be avoided because it uses the built-in start\u002Fstop commands."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Once enabled, Postal should start when your system boots."}]}]},dir:"\u002Fen\u002Finstallation",path:"\u002Fen\u002Finstallation\u002Fstarting-on-boot",extension:".md",createdAt:v,updatedAt:v,to:"\u002Finstallation\u002Fstarting-on-boot"},prev:{slug:"quick-install",title:"Quick Install",to:"\u002Finstallation\u002Fquick-install"},next:{slug:"spam-and-virus-checking",title:"Spam & Virus Checking",to:"\u002Ffeatures\u002Fspam-and-virus-checking"}}],fetch:{},mutations:[]}}("text","element","\n","code","p","systemd","li","\u002Fetc\u002Frc.local","span","etcrclocal",2,"h2","a","true",-1,"icon","icon-link","div","nuxt-content-highlight","pre","line-numbers","2021-07-28T15:48:49.983Z")));