__NUXT_JSONP__("/installation/installation", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD){return {data:[{document:{slug:"installation",description:"",title:K,position:2.1,category:K,toc:[{id:L,depth:o,text:M},{id:N,depth:o,text:O},{id:P,depth:o,text:Q},{id:R,depth:o,text:S},{id:T,depth:o,text:U},{id:V,depth:o,text:W},{id:X,depth:o,text:Y},{id:Z,depth:o,text:_},{id:$,depth:o,text:aa},{id:ab,depth:o,text:ac},{id:ad,depth:o,text:ae},{id:af,depth:o,text:ag},{id:ah,depth:o,text:ai},{id:aj,depth:o,text:ak},{id:al,depth:o,text:am},{id:an,depth:o,text:ao}],body:{type:"root",children:[{type:b,tag:g,props:{},children:[{type:a,value:"Postal is a semi-complex beast, but getting it up and running shouldn't take too long. You should set aside 30 minutes to get things up and running fully."}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"If you're not too interested in the specific of the installation, you can use the "},{type:b,tag:E,props:{to:"\u002Finstallation\u002Fquick-install"},children:[{type:a,value:"quick install guide"}]},{type:a,value:" which will install a basic copy of Postal on a clean Ubuntu 16.04 server."}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:b,tag:"strong",props:{},children:[{type:a,value:"It is highly recommended\u002Frequired that you install Postal on a clean server. This guide assumes that the server does not have any other services running on it."}]}]},{type:a,value:d},{type:b,tag:p,props:{id:L},children:[{type:b,tag:n,props:{href:"#planning--prerequisites",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:M}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"The following prerequisites are required to run Postal. We recommend running Postal on an Ubuntu 16.04 server with at least 8GB of memory and enough disk space to store your repositories."}]},{type:a,value:d},{type:b,tag:"ul",props:{},children:[{type:a,value:d},{type:b,tag:B,props:{},children:[{type:a,value:"Ruby 2.3 or higher"}]},{type:a,value:d},{type:b,tag:B,props:{},children:[{type:a,value:"MySQL or MariaDB database server"}]},{type:a,value:d},{type:b,tag:B,props:{},children:[{type:a,value:"RabbitMQ server"}]},{type:a,value:d},{type:b,tag:B,props:{},children:[{type:a,value:"Node.js (for javascript compilation)"}]},{type:a,value:d},{type:b,tag:B,props:{},children:[{type:a,value:"Git (for accessing some dependencies)"}]},{type:a,value:d}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"You will need a minimum two static IP addresses to configure the system. IPv6 is optional but highly recommended where possible. You will also need access to control the DNS for the domain that you wish to install Postal on."}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"There is "},{type:b,tag:E,props:{to:ap},children:[{type:a,value:"documentation for installing the core prerequisites"}]},{type:a,value:" if needed."}]},{type:a,value:d},{type:b,tag:p,props:{id:N},children:[{type:b,tag:n,props:{href:"#preparing-the-database",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:O}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Postal has a single main MySQL database that contains all configuration and each mail server you create will have its own database that stores its messages and other mail-server specific content. No configuration is stored in the mail server databases."}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,"language-text"]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"mysql -u root -p -h 127.0.0.1\n"}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Begin by creating your main database. Run the commands below to create a new database. Replace "},{type:b,tag:f,props:{},children:[{type:a,value:"XXX"}]},{type:a,value:" with a suitable password."}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,aq]},children:[{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:"CREATE"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:"DATABASE"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:y}]},{type:a,value:z},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:y}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:"CHARSET"}]},{type:a,value:" utf8mb4 "},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:"COLLATE"}]},{type:a,value:" utf8mb4_unicode_ci"},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:F}]},{type:a,value:d},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:ar}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:as}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:at}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:y}]},{type:a,value:z},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[e,D]},children:[{type:a,value:au}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:"TO"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:y}]},{type:a,value:z},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[e,av]},children:[{type:a,value:aw}]},{type:a,value:" IDENTIFIED "},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:ax}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,A]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:F}]},{type:a,value:d}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Postal will handle the creation of databases for your mail servers but you need to give it access to do this. Run the following to add a grant that permits a user to manage all databases that are prefixed with "},{type:b,tag:f,props:{},children:[{type:a,value:"postal-"}]},{type:a,value:C}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,aq]},children:[{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:ar}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:as}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:"PRIVILEGES"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:at}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:y}]},{type:a,value:z},{type:b,tag:c,props:{className:[e,D]},children:[{type:a,value:"-"}]},{type:b,tag:c,props:{className:[e,D]},children:[{type:a,value:"%"}]},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:y}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:C}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,D]},children:[{type:a,value:au}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:"to"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:y}]},{type:a,value:z},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[e,av]},children:[{type:a,value:aw}]},{type:a,value:"  IDENTIFIED "},{type:b,tag:c,props:{className:[e,v]},children:[{type:a,value:ax}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,A]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[e,w]},children:[{type:a,value:F}]},{type:a,value:d}]}]}]},{type:a,value:d},{type:b,tag:p,props:{id:P},children:[{type:b,tag:n,props:{href:"#setting-up-rabbitmq",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:Q}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Postal requires its own RabbitMQ vhost and user to connect with. You can create these using the following commands:"}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:" rabbitmqctl add_vhost \u002Fpostal\n"},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:" rabbitmqctl add_user postal XXX\n"},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:" rabbitmqctl set_permissions -p \u002Fpostal postal "},{type:b,tag:c,props:{className:[e,A]},children:[{type:a,value:G}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,A]},children:[{type:a,value:G}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,A]},children:[{type:a,value:G}]},{type:a,value:d}]}]}]},{type:a,value:d},{type:b,tag:p,props:{id:R},children:[{type:b,tag:n,props:{href:"#preparing-your-operating-system",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:S}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Postal should be executed as its own user on your server. Run the following commands to create a new user with a home directory in "},{type:b,tag:f,props:{},children:[{type:a,value:"\u002Fopt\u002Fpostal"}]},{type:a,value:C}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:"useradd"}]},{type:a,value:" -r -m -d \u002Fopt\u002Fpostal -s \u002Fbin\u002Fbash postal\n"}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Postal needs to be able to listen on privileged ports (for example 80, 443 and 25). To enable this, we will allow "},{type:b,tag:f,props:{},children:[{type:a,value:"ruby"}]},{type:a,value:" to listen on these ports. On a shared server this would be a security risk however on a server dedicated to Postal, this shouldn't cause any issues."}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:" setcap "},{type:b,tag:c,props:{className:[e,A]},children:[{type:a,value:"'cap_net_bind_service=+ep'"}]},{type:a,value:" \u002Fusr\u002Fbin\u002Fruby2.3\n"}]}]}]},{type:a,value:d},{type:b,tag:p,props:{id:T},children:[{type:b,tag:n,props:{href:"#installing-system-wide-gems",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:U}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"To run Postal, you'll need to have "},{type:b,tag:f,props:{},children:[{type:a,value:"bundler"}]},{type:a,value:" and "},{type:b,tag:f,props:{},children:[{type:a,value:"procodile"}]},{type:a,value:" installed on your system. Install them both:"}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:az},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:H}]},{type:a,value:" bundler\n"},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:az},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:H}]},{type:a,value:" procodile\n"}]}]}]},{type:a,value:d},{type:b,tag:p,props:{id:V},children:[{type:b,tag:n,props:{href:"#cloning-the-repository",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:W}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Now, we're ready to get the repository cloned onto your server. Run the clone command as your "},{type:b,tag:f,props:{},children:[{type:a,value:z}]},{type:a,value:" user and clone into the "},{type:b,tag:f,props:{},children:[{type:a,value:"\u002Fopt\u002Fpostal\u002Fapp"}]},{type:a,value:aA}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:" -i -u postal "},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:aB}]},{type:a,value:" -p \u002Fopt\u002Fpostal\u002Fapp\n"},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:"wget"}]},{type:a,value:" https:\u002F\u002Fpostal.atech.media\u002Fpackages\u002Fstable\u002Flatest.tgz -O - "},{type:b,tag:c,props:{className:[e,D]},children:[{type:a,value:"|"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:" -u postal "},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:"tar"}]},{type:a,value:" zxpv -C \u002Fopt\u002Fpostal\u002Fapp\n"}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"The "},{type:b,tag:f,props:{},children:[{type:a,value:"master"}]},{type:a,value:" branch (which is cloned by default) will contain the most stable version of the software. If you wish to work with a less stable branch, use the "},{type:b,tag:f,props:{},children:[{type:a,value:"devel"}]},{type:a,value:" branch."}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Postal provides a single binary that allows you to interact with it from any directory on your server. To make this available everywhere, simply symlink it into the "},{type:b,tag:f,props:{},children:[{type:a,value:"\u002Fusr\u002Fbin\u002Fpostal"}]},{type:a,value:aA}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:"ln"}]},{type:a,value:" -s \u002Fopt\u002Fpostal\u002Fapp\u002Fbin\u002Fpostal \u002Fusr\u002Fbin\u002Fpostal\n"}]}]}]},{type:a,value:d},{type:b,tag:p,props:{id:X},children:[{type:b,tag:n,props:{href:"#install-ruby-dependencies",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:Y}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"This will install all the required dependencies required to run the application."}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"postal bundle \u002Fopt\u002Fpostal\u002Fvendor\u002Fbundle\n"}]}]}]},{type:a,value:d},{type:b,tag:p,props:{id:Z},children:[{type:b,tag:n,props:{href:"#setting-up-configuration-files",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:_}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Before you can do anything, you'll need to generate the default configuration. By default, configuration is kept outside of the repository file structure and is stored in "},{type:b,tag:f,props:{},children:[{type:a,value:aC}]},{type:a,value:". Generate the initial configuration with the following command:"}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"postal initialize-config\n"}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"This will create a number of files for your configuration, including various private keys & certificates as well as a default "},{type:b,tag:f,props:{},children:[{type:a,value:I}]},{type:a,value:" configuration file."}]},{type:a,value:d},{type:b,tag:p,props:{id:$},children:[{type:b,tag:n,props:{href:"#configuring",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aa}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Open up your new "},{type:b,tag:f,props:{},children:[{type:a,value:I}]},{type:a,value:" configuration file from "},{type:b,tag:f,props:{},children:[{type:a,value:aC}]},{type:a,value:". Follow the comments in the example file and update items as appropriate based on your installation."}]},{type:a,value:d},{type:b,tag:p,props:{id:ab},children:[{type:b,tag:n,props:{href:"#initialize-database--assets",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ac}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"postal initialize\n"}]}]}]},{type:a,value:d},{type:b,tag:p,props:{id:ad},children:[{type:b,tag:n,props:{href:"#create-your-initial-admin-user",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ae}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"postal make-user\n"}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"This will guide you through setting up a new admin user for your installation. You'll be prompted for an e-mail address, name & password. You can then use these when you first login."}]},{type:a,value:d},{type:b,tag:p,props:{id:af},children:[{type:b,tag:n,props:{href:"#starting-the-application",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ag}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"To start the application, just run the following command. This will run postal in the foreground. This is only useful for testing and development. You'll run it in the background when you're sure everything is working."}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"postal run\n"}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"If everything looks OK, you can just CTRL+C this and continue. If there are any errors, you should investigate these before continuing."}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Now, you can run postal in the background on your server:"}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"postal start\n"}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"You can look at the status at any time using "},{type:b,tag:f,props:{},children:[{type:a,value:"postal status"}]},{type:a,value:C}]},{type:a,value:d},{type:b,tag:p,props:{id:ah},children:[{type:b,tag:n,props:{href:"#configuring-nginx",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ai}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"The Postal management interface and API should sit behind nginx. Install it and configure it as appropriate."}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:"apt"}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:H}]},{type:a,value:" nginx\n"}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Once installed, you can change the default site configuration to match something suitable. The repository contains an example config file that you can copy into place."}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:"cp"}]},{type:a,value:" \u002Fopt\u002Fpostal\u002Fapp\u002Fresource\u002Fnginx.cfg \u002Fetc\u002Fnginx\u002Fsites-available\u002Fdefault\n\n"},{type:b,tag:c,props:{className:[e,J]},children:[{type:a,value:"# You can create a self signed SSL certificate if you need to (otherwise put your own"}]},{type:a,value:d},{type:b,tag:c,props:{className:[e,J]},children:[{type:a,value:"# key & cert in \u002Fetc\u002Fnginx\u002Fssl\u002Fpostal.crt and postal.key)"}]},{type:a,value:d},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:aB}]},{type:a,value:" \u002Fetc\u002Fnginx\u002Fssl\u002F\n"},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:" openssl req -x509 -newkey rsa:4096 -keyout \u002Fetc\u002Fnginx\u002Fssl\u002Fpostal.key -out \u002Fetc\u002Fnginx\u002Fssl\u002Fpostal.crt -days "},{type:b,tag:c,props:{className:[e,"number"]},children:[{type:a,value:"365"}]},{type:a,value:" -nodes\n\n"},{type:b,tag:c,props:{className:[e,J]},children:[{type:a,value:"# Make the appropriate changes for your domain and SSL certificate and then restart"}]},{type:a,value:d},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:h},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:"nano"}]},{type:a,value:" -w \u002Fetc\u002Fnginx\u002Fsites-available\u002Fdefault\n\n"},{type:b,tag:c,props:{className:[e,i]},children:[{type:a,value:u}]},{type:a,value:" \u002Fetc\u002Finit.d\u002Fnginx restart\n"}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"This might be a good time to set up Let's Encrypt rather than using a self-signed certificate. "},{type:b,tag:n,props:{href:"https:\u002F\u002Fcertbot.eff.org\u002F",rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:"CertBot"}]},{type:a,value:" is a good way to go about setting this up."}]},{type:a,value:d},{type:b,tag:p,props:{id:aj},children:[{type:b,tag:n,props:{href:"#accessing-the-web-interface",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ak}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"You can now navigate to your domain and you should see the Postal web interface asking for a login. You can login using the credentials you created earlier."}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"You can start by creating your own organization & mail server and exploring the system."}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"By default, the system is not configured to use any IP pools that are configured. Messages will be sent from the main IP on the server. Configuring multiple IP pools will be covered in other documentation."}]},{type:a,value:d},{type:b,tag:p,props:{id:al},children:[{type:b,tag:n,props:{href:"#configuring-postal-smtp",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:am}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"The Postal system itself needs to be able to send e-mails. This is something that needs to be configured in your "},{type:b,tag:f,props:{},children:[{type:a,value:I}]},{type:a,value:" configuration file. You can send these messages using Postal itself. Just create a new mail server and use its credentials in your config file. Postal sends emails when servers are approaching limits, new users are invited, password resets and more."}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Once you have added the configuration for this, you can test the configuration using the command below. Replace the e-mail address with one of your own."}]},{type:a,value:d},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,x]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"postal test-app-smtp youraddress@domain.com\n"}]}]}]},{type:a,value:d},{type:b,tag:p,props:{id:an},children:[{type:b,tag:n,props:{href:"#starting-on-boot",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ao}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"Follow "},{type:b,tag:E,props:{to:"\u002Finstallation\u002Fstarting-on-boot"},children:[{type:a,value:"these instructions"}]},{type:a,value:" to configure Postal to start on boot."}]}]},dir:"\u002Fen\u002Finstallation",path:"\u002Fen\u002Finstallation\u002Finstallation",extension:".md",createdAt:aD,updatedAt:aD,to:"\u002Finstallation\u002Finstallation"},prev:{slug:"prerequisites",title:"Prerequisites",to:ap},next:{slug:"upgrading",title:"Upgrading",to:"\u002Finstallation\u002Fupgrading"}}],fetch:{},mutations:[]}}("text","element","span","\n","token","code","p"," ","function","div","nuxt-content-highlight","pre","line-numbers","a",2,"h2","true",-1,"icon","icon-link","sudo","keyword","punctuation","language-bash","`","postal","string","li",".","operator","nuxt-link",";","\".*\"","install","postal.yml","comment","Installation","planning--prerequisites","Planning & Prerequisites","preparing-the-database","Preparing the database","setting-up-rabbitmq","Setting up RabbitMQ","preparing-your-operating-system","Preparing your operating system","installing-system-wide-gems","Installing system-wide gems","cloning-the-repository","Cloning the repository","install-ruby-dependencies","Install Ruby dependencies","setting-up-configuration-files","Setting up configuration files","configuring","Configuring","initialize-database--assets","Initialize database & assets","create-your-initial-admin-user","Create your initial admin user","starting-the-application","Starting the application","configuring-nginx","Configuring Nginx","accessing-the-web-interface","Accessing the web interface","configuring-postal-smtp","Configuring Postal SMTP","starting-on-boot","Starting on boot","\u002Finstallation\u002Fprerequisites","language-sql","GRANT","ALL","ON","*","variable","@`127.0.0.1`","BY","\"XXX\""," gem "," directory.","mkdir","\u002Fopt\u002Fpostal\u002Fconfig","2021-07-28T17:01:24.639Z")));